# Avito Shop

## Описание проекта

Avito Shop — это веб-приложение, которое позволяет сотрудникам управлять своими виртуальными монетами, покупать товары и отправлять монеты другим сотрудникам. Приложение использует PostgreSQL в качестве базы данных и реализует аутентификацию пользователей с помощью JWT.

## Стек технологий

- Go (Golang)
- PostgreSQL
- Docker
- Gorilla Mux (для маршрутизации)
- JWT (для аутентификации)

## Установка и запуск

### Предварительные требования

- Установленный Docker и Docker Compose.

### Шаги для запуска

1. **Клонируйте репозиторий:**

   ```bash
   git clone git@github.com:bemz2/avito.git
   cd avito-shop
   ```

2. **Соберите и запустите контейнеры:**

   ```bash
   docker-compose up --build
   ```

   Это создаст и запустит контейнеры для приложения и базы данных PostgreSQL.

3. **Проверьте, что приложение запущено:**

   После успешного запуска вы сможете получить доступ к API по адресу `http://localhost:8080`.

### Структура проекта

- `cmd/api/main.go` — точка входа в приложение.
- `internal/api/` — обработчики и маршруты API.
- `internal/repository/` — взаимодействие с базой данных.
- `internal/service/` — бизнес-логика приложения.
- `migrations/` — SQL-скрипты для инициализации базы данных.
- `Dockerfile` — файл для сборки Docker-образа приложения.
- `docker-compose.yml` — конфигурация для запуска приложения и базы данных.

### Использование API

- **Аутентификация:**
  - POST `/api/auth`
  - Тело запроса:
    ```json
    {
      "username": "ваше_имя_пользователя",
      "password": "ваш_пароль"
    }
    ```

- **Получение информации о пользователе:**
  - GET `/api/info`
  - Требуется токен авторизации в заголовке `Authorization: Bearer <ваш_токен>`.

- **Отправка монет:**
  - POST `/api/sendCoin`
  - Тело запроса:
    ```json
    {
      "toUser": "имя_получателя",
      "amount": количество_монет
    }
    ```

- **Покупка товара:**
  - POST `/api/buy/{item}`
  - Требуется токен авторизации в заголовке `Authorization: Bearer <ваш_токен>`.
